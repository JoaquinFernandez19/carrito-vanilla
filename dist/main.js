"use strict";var getFirstWord=function(e){return e.substring(0,e.indexOf(" "))},removeAllChildNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},priceSortingLowToHigh=function(e,t){var r=0;return e.price>t.price?r=1:e.price<t.price&&(r=-1),r},priceSortingHighToLow=function(e,t){var r=0;return e.price<t.price?r=1:e.price>t.price&&(r=-1),r};window.onload=function(){var e={categoriesSelected:[],products:PRODUCTS,order:"low-to-high"};renderCategories(),renderSelectedCategories(e),categorySelectionListener(e,renderSelectedCategories),renderProducts(e),lowToHighBtn(e),highToLowBtn(e)};var PRODUCTS=[{name:"Taza StarWars",type:"Tazas",src:"https://static.fnac-static.com/multimedia/Images/FR/MDM/61/eb/c2/12774241/1540-1/tsp20191025144106/Mug-ABYstyle-Star-Wars-9-Troopers-320-ml.jpg",id:1,price:20},{name:"Taza Totoro",type:"Tazas",src:"https://http2.mlstatic.com/taza-anime-totoro-8-hotarucolections-D_NQ_NP_748838-MLA25588185251_052017-F.jpg",id:2,price:25},{name:"Taza Matematica",type:"Tazas",src:"https://s.fenicio.app/f/mipeuy/catalogo/articulos/17737.19-1_460x460_1568812077_4b5.jpg",id:3,price:30},{name:"Remera Spiderman",type:"Remeras",src:"https://http2.mlstatic.com/remera-spiderman-el-hombre-arana-marvel-ninos-maralto-D_NQ_NP_803502-MLA31130250425_062019-Q.jpg",id:4,price:95},{name:"Remera Basketball",type:"Remeras",src:"https://d26lpennugtm8s.cloudfront.net/stores/093/346/products/823281-mlu28744884335_112018-o-3a9128ddd87a4e324c15475332316508-1024-1024.jpg",id:5,price:90},{name:"Remera Alien",type:"Remeras",src:"https://d26lpennugtm8s.cloudfront.net/stores/914/706/products/alien-rosa1-c17817bb51544b10bd15586447541005-1024-1024.png",id:6,price:100},{name:"Bolso Verde",type:"Bolsos",src:"https://www.webtpvonline.es/productos/imagenes/img_2048_347aa00e8c2949504ea7b05d0fe3d057_20.png",id:7,price:100},{name:"Bolso Azul",type:"Bolsos",src:"https://i.pinimg.com/originals/b1/86/1e/b1861e39b048d7b539647236bf80d891.jpg",id:8,price:150},{name:"Bolso Rojo",type:"Bolsos",src:"https://www.botiga.com.uy/media/catalog/product/cache/1/thumbnail/600x600/0dc2d03fe217f8c83829496872af24a0/1/1/119_0121600425r_bolso_mudador_deluxe_everyday_messenger_red_rr04-25__1__1.jpg",id:9,price:90},{name:"Cuadro Leon",type:"Cuadros",src:"https://cdn.shopify.com/s/files/1/2584/0152/products/product-image-911870333.jpg",id:10,price:340},{name:"Cuadro Flores",type:"Cuadros",src:"https://www.estiloydeco.com/wp-content/uploads/2019/04/cuadros-decorativos-10.jpg",id:11,price:450},{name:"Cuadro Abstracto",type:"Cuadros",src:"https://media.qechic.com/product/cuadro-abstracto-color-cuadros-ii-100-x-100-cm-serie-abstracto-800x800.jpg",id:12,price:200},{name:"Bicicleta Niño",type:"Bicicletas",src:"https://cdn.shopify.com/s/files/1/2324/7983/products/amarilla_frontal_1800x.png",id:13,price:550},{name:"Bicicleta Electrica",type:"Bicicletas",src:"https://auteco.vteximg.com.br/arquivos/ids/189426-1000-1000/bicicleta_electrica_starker_T_FLEX_PRO_Azul_2020_1.jpg",id:14,price:700},{name:"Bicicleta Decoracion",type:"Bicicletas",src:"https://images-na.ssl-images-amazon.com/images/I/71y4pbYPlXL._AC_SX522_.jpg",id:15,price:300}],categorySelectionListener=function(t,r){var e=document.querySelector(".category-ul");Array.prototype.slice.call(e.children).forEach(function(e){e.addEventListener("click",function(){-1===t.categoriesSelected.indexOf(e.textContent)&&(t.categoriesSelected.push(e.textContent),r(t),renderProducts(t))})})},lowToHighBtn=function(e){var t=document.querySelector(".lowToHigh"),r=document.querySelector(".highToLow");t.addEventListener("click",function(){return t.classList.contains("active")?null:(t.classList.add("active"),r.classList.remove("active"),e.order="low-to-high",renderProducts(e),void console.log(e))})},highToLowBtn=function(e){var t=document.querySelector(".highToLow"),r=document.querySelector(".lowToHigh");t.addEventListener("click",function(){return t.classList.contains("active")?null:(t.classList.add("active"),r.classList.remove("active"),e.order="high-to-low",renderProducts(e),void console.log(e))})},renderCategories=function(){for(var e=["Tazas","Remeras","Bolsos","Cuadros","Bicicletas"],t=document.querySelector(".category-ul"),r=0;r<e.length;r++){var o=document.createElement("li"),c=document.createTextNode(e[r]);o.appendChild(c),o.classList.add("list-group-item"),t.appendChild(o)}},renderProducts=function(t){var r=document.querySelector(".product-show");removeAllChildNodes(r),console.log("Rendering products"),"low-to-high"===t.order?t.products.sort(priceSortingLowToHigh):"high-to-low"===t.order&&t.products.sort(priceSortingHighToLow),t.products.map(function(e){-1===t.categoriesSelected.indexOf(e.type)&&0!==t.categoriesSelected.length||r.appendChild(createProductElement(e.name,e.price,e.src))})},createProductElement=function(e,t,r){var o=document.createElement("div");o.classList.add("card","bg-dark");var c=document.createElement("img");c.classList.add("card-img-top"),c.setAttribute("src",r),c.setAttribute("alt",e);var a=document.createElement("div");a.classList.add("card-body");var i=document.createElement("h5");i.classList.add("card-title"),i.textContent=e;var s=document.createElement("p");s.classList.add("card-text"),s.innerHTML="".concat(t,' <i class="fa fa-diamond"></i>');var n=document.createElement("button");return n.classList.add("btn","btn-light"),n.textContent="Agregar al carrito",n.addEventListener("click",function(){return console.log("Agregado al carrito"+e)}),a.appendChild(i),a.appendChild(s),a.appendChild(n),o.appendChild(c),o.appendChild(a),o},renderSelectedCategories=function a(i){var s=document.querySelector(".products-category-selected"),e=i.categoriesSelected;return removeAllChildNodes(s),e.map(function(e){var r=document.createElement("span"),t=document.createElement("span"),o=document.createTextNode(" ×"),c=document.createTextNode(e);t.appendChild(o),t.classList.add("close-category"),t.addEventListener("click",function(){var t=getFirstWord(r.textContent),e=i.categoriesSelected.filter(function(e){return e!==t});i.categoriesSelected=e,a(i),renderProducts(i)}),r.appendChild(c),r.appendChild(t),r.classList.add("badge","badge-danger"),s.appendChild(r)})};